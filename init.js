(()=>{"use strict";function t(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}new(function(){function e(t){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this._elem=t||document.querySelector(".fader"),this._elem&&(this._items=this._elem.children,this._items.length&&!(this._items.length<=1))){this._interval=this._elem.dataset.interval||5e3,this._currentIndex=0,this._itemsCount=this._items.length,this._setupNavs();for(var s=1;s<this._itemsCount;s++)this._items[s].style.zIndex--,this._items[s].classList.add("--fade");this.startInterval()}}var s,i;return s=e,(i=[{key:"startInterval",value:function(){this._isPlay=!0,this._timeStart=null,this._loop(performance.now())}},{key:"stopInterval",value:function(){this._isPlay=!1}},{key:"_setupNavs",value:function(){this._btnGroup=document.createElement("div"),this._btnGroup.classList.add("hero__faderBtnGroup"),this._play=document.createElement("span"),this._play.classList.add("hero__faderPlay","--hide"),this._stop=document.createElement("span"),this._stop.classList.add("hero__faderStop"),this._nav=document.createElement("ul"),this._nav.classList.add("hero__faderNav");for(var t=0;t<this._itemsCount;t++){var e=document.createElement("li");e.classList.add("hero__faderNavItem"),e.dataset.targetIndex=t,this._nav.appendChild(e)}this._navItems=this._nav.children,this._navItems=this._nav.children,this._navItems[this._currentIndex].classList.add("--current"),this._btnGroup.appendChild(this._play),this._btnGroup.appendChild(this._stop),this._btnGroup.appendChild(this._nav),this._elem.after(this._btnGroup),this._handleEvents()}},{key:"_handleEvents",value:function(){var t=this;this._play.addEventListener("click",(function(){t.startInterval(),t._play.classList.add("--hide"),t._stop.classList.remove("--hide")})),this._stop.addEventListener("click",(function(){t.stopInterval(),t._play.classList.remove("--hide"),t._stop.classList.add("--hide")})),this._nav.addEventListener("click",(function(e){var s=e.target;s.dataset.targetIndex&&(t.fade(s.dataset.targetIndex-0),t.stopInterval())}))}},{key:"_loop",value:function(t){this._timeStart||(this._timeStart=t),t-this._timeStart<this._interval?window.requestAnimationFrame(this._loop.bind(this)):this._done()}},{key:"_done",value:function(){this._isPlay&&(this.startInterval(),this.fade((this._currentIndex+1)%this._itemsCount))}},{key:"fade",value:function(t){var e=this._items[this._currentIndex],s=this._items[t]||this._items[0];if(t>this._currentIndex)for(var i=t;i>this._currentIndex;i--)this._items[i].style.zIndex++;else for(var n=this._currentIndex;n>t;n--)this._items[n].style.zIndex--;this._transitionEnd(s,(function(){s.classList.remove("--fade")})).then((function(){e.classList.add("--fade")})),this._currentIndex=t,this._nav.querySelector(".--current")&&this._nav.querySelector(".--current").classList.remove("--current"),this._navItems=this._nav.children,this._navItems[this._currentIndex].classList.add("--current")}},{key:"_transitionEnd",value:function(t,e){var s,i=new Promise((function(e,i){s=function(){return e(t)},t.addEventListener("transitionend",s)}));return e(),i.then((function(t){t.removeEventListener("transitionend",s)})),i}}])&&t(s.prototype,i),Object.defineProperty(s,"prototype",{writable:!1}),e}())})();