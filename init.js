(()=>{"use strict";function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}new(function(){function e(t){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this._elem=t||document.querySelector(".fader"),this._elem&&(this._items=this._elem.children,this._items.length&&!(this._items.length<=1))){this._interval=this._elem.dataset.interval||5e3,this._currentIndex=1,this._itemsCount=this._items.length;for(var i=1;i<this._itemsCount;i++)this._items[i].style.zIndex--,this._items[i].classList.add("--fade");this.startInterval()}}var i,n;return i=e,(n=[{key:"startInterval",value:function(){this._isPlay=!0,this._timeStart=null,this._loop(performance.now())}},{key:"stopInterval",value:function(){this._isPlay=!1}},{key:"_loop",value:function(t){this._timeStart||(this._timeStart=t),t-this._timeStart<this._interval?window.requestAnimationFrame(this._loop.bind(this)):this._done()}},{key:"_done",value:function(){this._isPlay&&(this.startInterval(),this.fade())}},{key:"fade",value:function(){var t=this._items[this._currentIndex-1],e=this._items[this._currentIndex++]||this._items[0];if(this._currentIndex>this._itemsCount||e.style.zIndex++,this._transitionEnd(e,(function(){e.classList.remove("--fade")})).then((function(){t.classList.add("--fade")})),this._currentIndex>this._itemsCount){for(var i=1;i<this._itemsCount;i++)this._items[i].style.zIndex--;this._currentIndex=1}}},{key:"_transitionEnd",value:function(t,e){var i,n=new Promise((function(e,n){i=function(){return e(t)},t.addEventListener("transitionend",i)}));return e(),n.then((function(t){t.removeEventListener("transitionend",i)})),n}}])&&t(i.prototype,n),Object.defineProperty(i,"prototype",{writable:!1}),e}())})();